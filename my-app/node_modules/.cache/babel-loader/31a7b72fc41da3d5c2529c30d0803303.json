{"ast":null,"code":"import _classCallCheck from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/src/components/PhotoList.js\";\nimport React from \"react\";\nimport PhotoThumb from \"./PhotoThumb.js\";\n\nvar PhotoList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PhotoList, _React$Component);\n\n  function PhotoList(props) {\n    var _this;\n\n    _classCallCheck(this, PhotoList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PhotoList).call(this, props));\n\n    _this.updateSearch = function (e) {\n      //if country changed\n      if (e.target.id === \"countryInput\") {\n        document.getElementById('cityInput').value = null;\n\n        _this.setState({\n          search: e.target.value,\n          input: \"Country\"\n        });\n      } else {\n        //city changed\n        document.getElementById('countryInput').value = null;\n\n        _this.setState({\n          search: e.target.value,\n          input: \"City\"\n        });\n      }\n    };\n\n    _this.state = {\n      search: '',\n      //search term\n      input: '' //either country or city\n\n    };\n    return _this;\n  }\n\n  _createClass(PhotoList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //https://www.youtube.com/watch?v=OlVkYnVXPl0\n      //returns an array filtered based on the users search term (stored in state)\n      var filteredList = this.props.photos.filter(function (photo) {\n        //if city changed\n        if (_this2.state.input === \"City\") {\n          return photo.city.toLowerCase().indexOf(_this2.state.search.toLowerCase()) !== -1;\n        } else {\n          //country changed\n          return photo.country.toLowerCase().indexOf(_this2.state.search.toLowerCase()) !== -1;\n        }\n      });\n\n      if (this.props.photos.length > 1) {\n        return React.createElement(\"div\", {\n          className: \"flex-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"filterBy flex-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"flex-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \" Filter By:\"), React.createElement(\"input\", {\n          id: \"countryInput\",\n          className: \"flex-item\",\n          name: \"filterCountry\",\n          type: \"text\",\n          placeholder: \"Country\",\n          onChange: this.updateSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          id: \"cityInput\",\n          className: \"flex-item\",\n          name: \"filterCity\",\n          type: \"text\",\n          placeholder: \"City\",\n          onChange: this.updateSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        })), React.createElement(\"article\", {\n          className: \"photos\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, filteredList.map(function (p) {\n          return React.createElement(PhotoThumb, {\n            photo: p,\n            key: p.id,\n            setView: _this2.props.setView,\n            addImageToFavorites: _this2.props.addImageToFavorites,\n            deletePhoto: _this2.props.deletePhoto,\n            setEdit: _this2.props.setEdit,\n            setMap: _this2.props.setMap,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          });\n        })));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return PhotoList;\n}(React.Component);\n\nexport default PhotoList;","map":{"version":3,"sources":["/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/src/components/PhotoList.js"],"names":["React","PhotoThumb","PhotoList","props","updateSearch","e","target","id","document","getElementById","value","setState","search","input","state","filteredList","photos","filter","photo","city","toLowerCase","indexOf","country","length","map","p","setView","addImageToFavorites","deletePhoto","setEdit","setMap","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PhotoThumb from \"./PhotoThumb.js\";\r\n\r\nclass PhotoList extends React.Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      search:'',//search term\r\n      input:''//either country or city\r\n    }\r\n  }\r\n\r\n  updateSearch=(e)=>{\r\n    //if country changed\r\n    if(e.target.id===\"countryInput\"){\r\n      document.getElementById('cityInput').value = null;\r\n      this.setState({search: e.target.value, input:\"Country\"})\r\n    }else{//city changed\r\n      document.getElementById('countryInput').value = null;\r\n      this.setState({search: e.target.value, input:\"City\"})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    //https://www.youtube.com/watch?v=OlVkYnVXPl0\r\n    //returns an array filtered based on the users search term (stored in state)\r\n    let filteredList = this.props.photos.filter(\r\n      (photo)=>{\r\n        //if city changed\r\n        if(this.state.input===\"City\"){\r\n          return photo.city.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\r\n        }else{//country changed\r\n          return photo.country.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\r\n        }\r\n      } \r\n    )\r\n    if (this.props.photos.length > 1) {\r\n      return (\r\n        <div className=\"flex-container\">\r\n          <div className=\"filterBy flex-box\">\r\n           <h2 className=\"flex-title\"> Filter By:</h2>\r\n             <input id=\"countryInput\" className=\"flex-item\" name=\"filterCountry\" type=\"text\" placeholder=\"Country\" onChange={this.updateSearch}/> \r\n             <input id=\"cityInput\" className=\"flex-item\" name=\"filterCity\" type=\"text\" placeholder=\"City\" onChange={this.updateSearch}/>\r\n          </div>\r\n            \r\n\r\n        <article className=\"photos\">\r\n\r\n          {filteredList.map(p => (\r\n            <PhotoThumb\r\n              photo={p}\r\n              key={p.id}\r\n              setView={this.props.setView}\r\n              addImageToFavorites={this.props.addImageToFavorites}\r\n              deletePhoto={this.props.deletePhoto}\r\n              setEdit={this.props.setEdit}\r\n              setMap={this.props.setMap}\r\n            />\r\n          ))}\r\n        </article>\r\n        </div>\r\n        \r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PhotoList;\r\n"]},"metadata":{},"sourceType":"module"}