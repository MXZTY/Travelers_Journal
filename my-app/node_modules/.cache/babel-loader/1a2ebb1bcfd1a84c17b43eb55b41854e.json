{"ast":null,"code":"import _classCallCheck from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/src/components/Favorites.js\";\nimport React from \"react\";\nimport FavoriteItem from \"./FavoriteItem\";\nimport \"../index.css\";\nimport JSZip from \"jszip\";\nimport utils from \"jszip-utils\";\nimport { saveAs } from \"file-saver\"; // this class outputs the array of favorites passed in from App.js via props each item in the array is outputted as a FavoriteItem.\n\nvar Favorites =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Favorites, _React$Component);\n\n  function Favorites() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Favorites);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Favorites)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      displayButton: false\n    };\n\n    _this.genZip = function () {\n      //create zip instance\n      var zip = new JSZip();\n      var folder = zip.folder(\"favorites\");\n      var count = 0;\n      console.log(\"downloading Now\");\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        var _loop = function _loop() {\n          var i = _step.value;\n          var url = \"https://cors-anywhere.herokuapp.com/storage.googleapis.com/funwebdev-3rd-travel/large/\".concat(i.path); // eslint-disable-next-line\n\n          utils.getBinaryContent(url, function (err, data) {\n            if (err) {\n              console.log(err);\n            }\n\n            folder.file(i.path, data, {\n              binary: true\n            });\n            count++; //add to the zip folder if we have added them all\n\n            if (count === _this.props.favorites.length) {\n              zip.generateAsync({\n                type: \"blob\"\n              }).then(function (content) {\n                saveAs(content, \"favorites.zip\");\n              });\n            }\n          });\n        };\n\n        for (var _iterator = _this.props.favorites[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          _loop();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      ;\n    };\n\n    return _this;\n  }\n\n  _createClass(Favorites, [{\n    key: \"render\",\n    // a conditional id is added to the favorites and download button\n    // so that if the favorites array is empty, the user is not given an option to download,\n    // and doesnt have a blank bar on the top of their screen\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"section\", {\n        className: \"favorites flex-container-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-item-favorites\",\n        id: this.props.favorites < 1 ? \"Hide\" : \"Show\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \" \\u2764 Favorites\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"flex-button\",\n        id: this.props.favorites < 1 ? \"Hide\" : \"Show\",\n        onClick: this.genZip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Download\")), this.props.favorites.map(function (f) {\n        return React.createElement(FavoriteItem, {\n          photo: f,\n          key: f.id,\n          addImageToFavorites: _this2.props.addImageToFavorites,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Favorites;\n}(React.Component);\n\nexport default Favorites;","map":{"version":3,"sources":["/mnt/c/Users/mtyso/Desktop/web3_asg2/my-app/src/components/Favorites.js"],"names":["React","FavoriteItem","JSZip","utils","saveAs","Favorites","state","displayButton","genZip","zip","folder","count","console","log","i","url","path","getBinaryContent","err","data","file","binary","props","favorites","length","generateAsync","type","then","content","map","f","id","addImageToFavorites","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,MAAT,QAAuB,YAAvB,C,CAGA;;IACMC,S;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,aAAa,EAAE;AADT,K;;UAKRC,M,GAAS,YAAM;AAEb;AACA,UAAIC,GAAG,GAAG,IAAIP,KAAJ,EAAV;AACA,UAAIQ,MAAM,GAAGD,GAAG,CAACC,MAAJ,CAAW,WAAX,CAAb;AACA,UAAIC,KAAK,GAAG,CAAZ;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAPa;AAAA;AAAA;;AAAA;AAAA;AAAA,cASJC,CATI;AAUX,cAAIC,GAAG,mGACCD,CAAC,CAACE,IADH,CAAP,CAVW,CAcX;;AACAb,UAAAA,KAAK,CAACc,gBAAN,CAAuBF,GAAvB,EAA4B,UAACG,GAAD,EAAMC,IAAN,EAAe;AACzC,gBAAID,GAAJ,EAAS;AACPN,cAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD;;AACDR,YAAAA,MAAM,CAACU,IAAP,CAAYN,CAAC,CAACE,IAAd,EAAoBG,IAApB,EAA0B;AAACE,cAAAA,MAAM,EAAC;AAAR,aAA1B;AACAV,YAAAA,KAAK,GALoC,CAMxC;;AACD,gBAAIA,KAAK,KAAK,MAAKW,KAAL,CAAWC,SAAX,CAAqBC,MAAnC,EAA0C;AACxCf,cAAAA,GAAG,CAACgB,aAAJ,CAAkB;AAAEC,gBAAAA,IAAI,EAAE;AAAR,eAAlB,EAAmCC,IAAnC,CAAwC,UAACC,OAAD,EAAa;AACnDxB,gBAAAA,MAAM,CAACwB,OAAD,EAAU,eAAV,CAAN;AACD,eAFD;AAGD;AACF,WAZD;AAfW;;AASb,6BAAc,MAAKN,KAAL,CAAWC,SAAzB,8HAAmC;AAAA;AAmBlC;AA5BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA4BZ;AACF,K;;;;;;;AAED;AACA;AACA;6BACS;AAAA;;AACP,aACE;AAAS,QAAA,SAAS,EAAC,8BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,SAAS,EAAC,qBADZ;AAEE,QAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC,SAAX,GAAuB,CAAvB,GAA2B,MAA3B,GAAoC,MAF1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME;AACE,QAAA,SAAS,EAAC,aADZ;AAEE,QAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC,SAAX,GAAuB,CAAvB,GAA2B,MAA3B,GAAoC,MAF1C;AAGE,QAAA,OAAO,EAAE,KAAKf,MAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,CADF,EAeG,KAAKc,KAAL,CAAWC,SAAX,CAAqBM,GAArB,CAAyB,UAAAC,CAAC,EAAI;AAC7B,eACE,oBAAC,YAAD;AACE,UAAA,KAAK,EAAEA,CADT;AAEE,UAAA,GAAG,EAAEA,CAAC,CAACC,EAFT;AAGE,UAAA,mBAAmB,EAAE,MAAI,CAACT,KAAL,CAAWU,mBAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,OARA,CAfH,CADF;AA2BD;;;;EApEqBhC,KAAK,CAACiC,S;;AAsE9B,eAAe5B,SAAf","sourcesContent":["import React from \"react\";\r\nimport FavoriteItem from \"./FavoriteItem\";\r\nimport \"../index.css\";\r\nimport JSZip from \"jszip\";\r\nimport utils from \"jszip-utils\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\n\r\n// this class outputs the array of favorites passed in from App.js via props each item in the array is outputted as a FavoriteItem.\r\nclass Favorites extends React.Component {\r\n  state = {\r\n    displayButton: false\r\n  };\r\n\r\n  //generate a zip file\r\n  genZip = () => {\r\n    \r\n    //create zip instance\r\n    let zip = new JSZip();\r\n    let folder = zip.folder(\"favorites\")\r\n    let count = 0;\r\n\r\n    console.log(\"downloading Now\");\r\n\r\n    for( let i of this.props.favorites){\r\n      let url = `https://cors-anywhere.herokuapp.com/storage.googleapis.com/funwebdev-3rd-travel/large/${\r\n              i.path\r\n      }`;\r\n\r\n      // eslint-disable-next-line\r\n      utils.getBinaryContent(url, (err, data) => {\r\n        if (err) {\r\n          console.log(err);\r\n        } \r\n        folder.file(i.path, data, {binary:true});\r\n        count ++;\r\n         //add to the zip folder if we have added them all\r\n        if (count === this.props.favorites.length){\r\n          zip.generateAsync({ type: \"blob\"}).then((content) => {\r\n            saveAs(content, \"favorites.zip\");\r\n          });\r\n        }\r\n      });\r\n    };  \r\n  }\r\n\r\n  // a conditional id is added to the favorites and download button\r\n  // so that if the favorites array is empty, the user is not given an option to download,\r\n  // and doesnt have a blank bar on the top of their screen\r\n  render() {\r\n    return (\r\n      <section className=\"favorites flex-container-row\">\r\n        <div\r\n          className=\"flex-item-favorites\"\r\n          id={this.props.favorites < 1 ? \"Hide\" : \"Show\"}\r\n        >\r\n          <h3> ‚ù§ Favorites</h3>\r\n          <br />\r\n          <button\r\n            className=\"flex-button\"\r\n            id={this.props.favorites < 1 ? \"Hide\" : \"Show\"}\r\n            onClick={this.genZip}\r\n          >\r\n            Download\r\n          </button>\r\n        </div>\r\n        {this.props.favorites.map(f => {\r\n          return (\r\n            <FavoriteItem\r\n              photo={f}\r\n              key={f.id}\r\n              addImageToFavorites={this.props.addImageToFavorites}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default Favorites;\r\n"]},"metadata":{},"sourceType":"module"}